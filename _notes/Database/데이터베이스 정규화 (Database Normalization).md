---
title: 데이터베이스 정규화 (Database Normalization)
category: Database
---
데이터베이스 정규화는 관계형 데이터베이스의 테이블 구조를 설계할 때, 데이터 중복을 최소화하고 데이터 무결성을 향상시키기 위해 테이블을 분해하는 과정이다. 정규화된 데이터베이스는 데이터 사입, 수정, 삭제 시, 발생할 수 있는 이상 현상(Anomaly)을 방지하고, 유지보수를 용이하게 만든다. 

정규화의 목적:
- 데이터 중복 최소화: 동일한 데이터가 여러 곳에 저장되는 것을 방지하여 저장 공간을 절약하고 일관성을 유지한다. 
- 데이터 무결성 향상: 데이터의 정확성과 일관성을 보장한다. 
- 데이터 이상 현상(Anomaly) 방지:
	- 삽입 이상 (insertion Anomaly): 불필요한 데이터 없이는 원하는 데이터를 삽입할 수 없는 문제
		- ex) 수강 정보가 없는 신규 학생 정보를 학생 테이블에 넣지 못하는 경우 
	- 갱신 이상 (updateAnomaly): 중복된 데이터 중 일부만 수정되어 데이터 불일치가 발생하는 문제. 
		- ex) 학생 주소가 여러 행에 중복 저장되어 일부만 수정되는 경우
	- 삭제 이상 (Deletion Anomaly): 특정 정보를 삭제하면, 원치 않는 다른 정보까지 함께 삭제되는 문제.
		- ex) 특정 과목 수강생이 1명뿐일 때 그 학생의 수강 정보를 삭제하면 과목 정보까지 사라지는 경우 

----------------------------------------------------
주요 정규형:
1. 제1정규형 (First Normal Form, 1NF)
	테이블의 모든 컬럼(속성) 값이 `원자값(Atomic Value)`이어야 한다. 즉, 하나의 컬럼이 여러 개의 값이 들어갈 수 없으며, 반복되는 그룹(Repeating Group)이 존재해서는 안된다. 
	- 각 컬럼을 단일 값을 가져야 한다.
	- 각 행은 고유하게 식별될 수 있어야 한다. (기본 키 존재)


- 비정규형 테이블

| 학생ID | 이름  | 수강과목   |
| :--- | :-- | :----- |
| 100  | 홍길동 | 수학, 과학 |
| 200  | 이순신 | 국어     |

- 1NF 테이블

| 학생ID | 이름  | 수강과목 |
| :--- | :-- | :--- |
| 100  | 홍길동 | 수학   |
| 100  | 홍길동 | 과학   |
| 200  | 이순신 | 국어   |

----------------------------------------------------------------------

2. 제2정규형(Second Normal Form, 2NF)
	제 1정규형을 만족해야 한다. 
	부분 함수 종속성(Partial Functional Dependency)을 제거해야 한다. 즉, 기본 키(Primary Key)가 여러 컬럼으로 구성된 복합 키(Composite Key)일 경우, 기본 키의 일부에만 종속되는 컬럼이 있어서는 안된다. 모든 일반 컬럼은 반드시 기본 키 전체에 종속되어야 한다. 
	- 만약 기본 키가 단일 컬럼이면 1NF 만족 시 자동으로 2NF 만족

| 주문번호 | 제품번호 | 제품명 | 수량  | 주문일자       |
| :--- | :--- | :-- | :-- | :--------- |
| 1    | P1   | 노트북 | 1   | 2025-04-10 |
| 1    | P2   | 마우스 | 1   | 2025-04-10 |
| 2    | P1   | 노트북 | 2   | 2025-04-11 |
- 제품명은 제품번호에만 종속댐
- 주문일자는 주문번호에만 종속됌

| 주문번호 | 주문일자       |
| :--- | :--------- |
| 1    | 2025-04-10 |
| 2    | 2025-04-11 |
- 주문 테이블 분리

| 제품번호 | 제품명 |
| :--- | :-- |
| P1   | 노트북 |
| P2   | 마우스 |
- 제품 테이블 분리

| 주문번호 | 제품번호 | 수량  |
| :--- | :--- | :-- |
| 1    | P1   | 1   |
| 1    | P2   | 1   |
| 2    | P1   | 2   |
- 주문 항목 테이블 

---------------------------------------------------------------------

3. 제 3정규형 (Third Normal Form, 3NF)
	제 2정규형(2NF)을 만족해야 한다. 
	이행적 함수 종속성(Transitive Functional Dependency)을 제거해야 한다. 즉, 기본 키가 아닌 일반 컬럼이 다른 일반 컬럼에 종속되어서는 안된다. 모든 일반 컬럼은 직접적으로 기본 키에만 종속되어야 한다. 

| 학생ID | 이름  | 학과코드 | 학과명    | 학과전화번호   |
| :--- | :-- | :--- | :----- | :------- |
| 100  | 홍길동 | CS   | 컴퓨터공학과 | 123-4567 |
| 200  | 이순신 | EE   | 전자공학과  | 987-6543 |
| 300  | 유관순 | CS   | 컴퓨터공학과 | 123-4567 |

- 학과명, 학과전화번호 는 기본 키 학생ID가 아니라 일반 컬럼 학과 코드에 종속됨 -> 이행적 함수 종속성

| 학생ID | 이름  | 학과코드 |
| :--- | :-- | :--- |
| 100  | 홍길동 | CS   |
| 200  | 이순신 | EE   |
| 300  | 유관순 | CS   |
- 학생 테이블 

| 학과코드 | 학과명    | 학과전화번호   |
| :--- | :----- | :------- |
| CS   | 컴퓨터공학과 | 123-4567 |
| EE   | 전자공학과  | 987-6543 |
- 학과 테이블

학생 테이블의 일반 컬럼은 기본 키에만 종속되고, 학과 관련 정보는 별도 테이블에서 관리됨 

-------------------------------------------------------------------
**정규화의 장점 (요약):**

- 데이터 중복 감소 및 일관성 확보
- 데이터 모델의 유연성 및 확장성 증대
- 데이터 무결성 제약조건 강화
- 데이터 이상 현상 방지

------------------------------------------------------------------------

정규화는 데이터 중복을 줄이지만, 때로는 여러 테이블을 조인해야 하므로 조회 성능이 저하될 수 있다.
`이런 경우, 조회 성능 향상을 위해 의도적으로 정규화 원칙을 위배하여 테이블을 통합하거나 중복을 허용하는 것을 반정규화라고한다.` 반정규화는 성능 개선 효과와 데이터 불일치 위험을 충분히 고려한 후 신중하게 적용해야 한다. 
